<div class="card shadow-sm">
  <div class="card-header bg-light">
    <i class="fas fa-comments"></i> チャット
  </div>
  <div class="card-body chat-box" data-community-id="<%= @community.id %>" style="height: 400px; overflow-y: auto;">
    <% @community.community_messages.each do |message| %>
      <%= render "public/community_messages/message", message: message %>
    <% end %>
  </div>
</div>

<div class="card mt-3">
  <div class="card-body">
    <%= form_with model: [@community, @message], local: true, html: { multipart: true } do |f| %>
      <div class="mb-2">
        <%= f.text_area :body, rows: 2, class: "form-control", placeholder: "メッセージを入力..." %>
      </div>
      <div class="mb-2">
        <%= f.file_field :files, multiple: true, direct_upload: true, class: "form-control" %>
      </div>
      <%= f.submit "送信", class: "btn btn-primary w-100" %>
    <% end %>
  </div>
</div>