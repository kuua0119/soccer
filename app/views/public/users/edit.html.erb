<div class="mb-4">
  <span class="h3 fw-bold border-start border-3 border-primary ps-2 text-white title-bg">
    プロフィール編集
  </span>
</div>

<div class="card shadow-sm">
  <div class="card-body">
    <%= form_with model: @user, url: update_user_profile_path(@user), method: :patch, local: true, html: { multipart: true } do |f| %>

      <!-- 名前 -->
      <div class="mb-3">
        <%= f.label :name, "名前", class: "form-label fw-bold" %>
        <%= f.text_field :name, class: "form-control" %>
      </div>

      <div class="mb-3">
        <%= f.label :email, "メールアドレス", class: "form-label fw-bold" %>
        <%= f.email_field :email, class: "form-control" %>
      </div>

      <div class="mb-3">
        <%= f.label :avatar, "プロフィール画像", class: "form-label fw-bold" %><br>
        <% if @user.avatar.attached? %>
          <div class="mb-2">
            <%= image_tag @user.avatar.variant(resize_to_fill: [150,150]), class: "rounded shadow-sm border" %>
          </div>
        <% end %>
        <%= f.file_field :avatar, accept: "image/*", class: "form-control" %>
      </div>

      <div class="mb-3">
        <%= f.label :introduction, "紹介文", class: "form-label fw-bold" %>
        <%= f.text_area :introduction, class: "form-control", rows: 5, placeholder: "自己紹介を入力してください" %>
      </div>

      <div>
        <%= f.submit "更新する", class: "btn btn-primary" %>
      </div>
    <% end %>
  </div>
</div>